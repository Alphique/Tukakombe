[file name]: image.png
[file content begin]
Welcome back, Alphankandu
Track your loan applications

Loan Overview

TOTAL
1
All applications

REVIEWING
0
Awaiting

APPROVED
1
Successful

SUCCESS RATE
100.0%
Approval ratio

Need Funding?
Start your application in minutes

Apply Now

Eligibility

Recent Applications

PERS-20260104201909-6C26DA
2026-01-04 18:19:09

Approved

View All â†’

Personal
2026-01-04

TUKAKOMBE
HOME
ABOUT
SOLUTIONS
INSIGHTS
PARTNER WITH

Quick Actions

Marketplace
Browse assets & tools

Blog & Insights
Market updates & tips

Help Center
Rice & support

Quick Tips

Complete your profile
Update KYC details for faster approvals

Clear documentation
Upload clear photos of collateral items

Check eligibility first
Use our tool before applying

Need Help?
Our team is here for you

Email Support


[file content end]

{% extends "base.html" %}
{% block content %}
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
    :root {
        --lime: #a2d242;
        --lime-light: #c9ff66;
        --lime-dark: #8ab82d;
        --navy: #1a2a40;
        --navy-dark: #0d1621;
        --navy-light: #2a3a55;
        --white: #ffffff;
        --off-white: #f8fafc;
        --text-light: rgba(255, 255, 255, 0.9);
        --text-muted: rgba(255, 255, 255, 0.7);
        --radius-sm: 8px;
        --radius-md: 16px;
        --radius-lg: 24px;
        --shadow-sm: 0 4px 12px rgba(0, 0, 0, 0.1);
        --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.15);
        --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.2);
        --transition: all 0.3s ease;
    }
    
    /* Reset and base styles */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Inter', sans-serif;
        background: var(--off-white);
        color: var(--navy);
    }
    
    /* Main container with safe area for fixed headers - FIXED */
    .dashboard-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
        padding-top: calc(5rem + env(safe-area-inset-top, 0)); /* Added more top padding to clear header */
    }
    
    /* Fixed header fix */
    .mobile-header-fixed {
        position: sticky;
        top: 0;
        z-index: 100;
        background: var(--navy);
        color: var(--white);
        padding: 1rem;
        margin: -1rem -1rem 1.5rem -1rem;
        border-radius: 0 0 var(--radius-md) var(--radius-md);
        box-shadow: var(--shadow-md);
        height: 4.5rem; /* Explicit height */
    }
    
    /* Stats cards */
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
        margin-bottom: 2rem;
    }
    
    .stat-card {
        background: var(--white);
        border-radius: var(--radius-md);
        padding: 1.25rem;
        border: 1px solid rgba(0, 0, 0, 0.08);
        box-shadow: var(--shadow-sm);
        transition: var(--transition);
    }
    
    .stat-card:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }
    
    .stat-number {
        font-size: 2rem;
        font-weight: 700;
        margin: 0.5rem 0;
        color: var(--navy);
    }
    
    .stat-label {
        font-size: 0.75rem;
        font-weight: 600;
        color: #6b7280;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    
    .stat-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
        margin-bottom: 1rem;
    }
    
    /* Loan cards */
    .loan-card {
        background: var(--white);
        border-radius: var(--radius-md);
        padding: 1.25rem;
        margin-bottom: 1rem;
        border: 1px solid rgba(0, 0, 0, 0.08);
        transition: var(--transition);
    }
    
    .loan-card:hover {
        border-color: var(--lime);
        box-shadow: var(--shadow-sm);
    }
    
    .status-badge {
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
    }
    
    .status-pending { background: #fff3cd; color: #856404; }
    .status-approved { background: #d4edda; color: #155724; }
    .status-rejected { background: #f8d7da; color: #721c24; }
    
    /* Action buttons */
    .action-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        padding: 0.75rem 1.5rem;
        background: var(--lime);
        color: var(--navy);
        border: none;
        border-radius: var(--radius-sm);
        font-weight: 600;
        text-decoration: none;
        transition: var(--transition);
        cursor: pointer;
    }
    
    .action-button:hover {
        background: var(--lime-light);
        transform: translateY(-2px);
    }
    
    .action-button-secondary {
        background: var(--navy-light);
        color: var(--white);
    }
    
    .action-button-secondary:hover {
        background: var(--navy);
    }
    
    /* Section containers */
    .section-card {
        background: var(--white);
        border-radius: var(--radius-md);
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        border: 1px solid rgba(0, 0, 0, 0.08);
        box-shadow: var(--shadow-sm);
    }
    
    /* Quick actions */
    .quick-action {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: var(--off-white);
        border-radius: var(--radius-sm);
        text-decoration: none;
        color: var(--navy);
        transition: var(--transition);
        margin-bottom: 0.75rem;
    }
    
    .quick-action:hover {
        background: var(--lime-light);
        transform: translateX(5px);
    }
    
    .quick-action-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        background: var(--navy);
        color: var(--white);
    }
    
    /* Bottom navigation */
    .mobile-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: var(--navy);
        display: flex;
        justify-content: space-around;
        padding: 0.75rem 0;
        padding-bottom: calc(0.75rem + env(safe-area-inset-bottom, 0));
        z-index: 100;
        border-top: 1px solid var(--navy-dark);
    }
    
    .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-decoration: none;
        color: var(--text-muted);
        font-size: 0.7rem;
        gap: 0.25rem;
        padding: 0.5rem;
        transition: var(--transition);
    }
    
    .nav-item.active {
        color: var(--lime);
    }
    
    .nav-icon {
        font-size: 1.25rem;
    }
    
    /* Main content padding for bottom nav - FIXED */
    .main-content {
        padding-top: 1rem; /* Added top padding */
        padding-bottom: 5rem;
    }
    
    /* Hero section */
    .hero-section {
        background: linear-gradient(135deg, var(--navy) 0%, var(--navy-dark) 100%);
        color: var(--white);
        border-radius: var(--radius-md);
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        position: relative;
        overflow: hidden;
    }
    
    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 100px;
        background: rgba(162, 210, 66, 0.1);
        border-radius: 50%;
        transform: translate(30%, -30%);
    }
    
    /* Empty state */
    .empty-state {
        text-align: center;
        padding: 3rem 1rem;
        color: #6b7280;
    }
    
    .empty-state-icon {
        font-size: 3rem;
        color: #d1d5db;
        margin-bottom: 1rem;
    }
    
    /* Responsive design */
    @media (min-width: 768px) {
        .dashboard-container {
            padding: 0 1.5rem;
            padding-top: 0; /* Reset top padding on desktop */
        }
        
        .stats-grid {
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
        }
        
        .stat-number {
            font-size: 2.5rem;
        }
        
        .mobile-nav {
            display: none;
        }
        
        .main-content {
            padding-bottom: 2rem;
        }
        
        .mobile-header-fixed {
            position: relative;
            margin: -1.5rem -1.5rem 2rem -1.5rem;
            border-radius: 0 0 var(--radius-md) var(--radius-md);
        }
    }
    
    @media (max-width: 360px) {
        .stats-grid {
            grid-template-columns: 1fr;
        }
        
        .stat-number {
            font-size: 1.75rem;
        }
    }
    
    /* Touch-friendly */
    button, a {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Scroll prevention */
    * {
        -webkit-tap-highlight-color: transparent;
    }
    
    /* Text truncation */
    .truncate {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    /* Quick fix to ensure content starts below header - ADDED */
    .dashboard-container > *:not(.mobile-header-fixed) {
        position: relative;
        z-index: 1;
    }
</style>

<div class="dashboard-container main-content">
    
    <!-- Fixed Header -->
    <header class="mobile-header-fixed">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h1 style="font-size: 1.25rem; font-weight: 700; margin: 0; color: var(--lime);">
                    Welcome back, {{ session['user_email'].split('@')[0] | title }}
                </h1>
                <p style="font-size: 0.875rem; color: var(--text-muted); margin: 0.25rem 0 0 0;">
                    Track your loan applications
                </p>
            </div>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
                <div style="padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border-radius: var(--radius-sm); color: var(--white); font-size: 0.75rem; font-weight: 600;">
                    <i class="fas fa-calendar-alt"></i>
                    {{ now.strftime('%d %b') if now else 'Today' }}
                </div>
            </div>
        </div>
    </header>

    <!-- Stats Overview - Added extra top margin -->
    <section style="margin-top: 1.5rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <h2 style="font-size: 1.25rem; font-weight: 700; color: var(--navy); margin: 0;">Loan Overview</h2>
        </div>
        
        <div class="stats-grid">
            <!-- Total Applications -->
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(162, 210, 66, 0.1); color: var(--lime);">
                    <i class="fas fa-file-contract"></i>
                </div>
                <div class="stat-label">TOTAL</div>
                <div class="stat-number">{{ stats.total or 0 }}</div>
                <div style="font-size: 0.75rem; color: #6b7280; display: flex; align-items: center; gap: 0.25rem;">
                    <i class="fas fa-history"></i>
                    <span>All applications</span>
                </div>
            </div>

            <!-- Pending -->
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(255, 193, 7, 0.1); color: #ffc107;">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-label">REVIEWING</div>
                <div class="stat-number" style="color: #ffc107;">{{ stats.pending or 0 }}</div>
                <div style="font-size: 0.75rem; color: #6b7280; display: flex; align-items: center; gap: 0.25rem;">
                    <i class="fas fa-hourglass-half"></i>
                    <span>Awaiting</span>
                </div>
            </div>

            <!-- Approved -->
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(40, 167, 69, 0.1); color: #28a745;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-label">APPROVED</div>
                <div class="stat-number" style="color: #28a745;">{{ stats.approved or 0 }}</div>
                <div style="font-size: 0.75rem; color: #6b7280; display: flex; align-items: center; gap: 0.25rem;">
                    <i class="fas fa-trophy"></i>
                    <span>Successful</span>
                </div>
            </div>

            <!-- Success Rate -->
            <div class="stat-card">
                <div class="stat-icon" style="background: rgba(0, 123, 255, 0.1); color: #007bff;">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="stat-label">SUCCESS RATE</div>
                <div class="stat-number" style="color: #007bff;">
                    {% if stats.total and stats.total > 0 %}
                        {{ ((stats.approved or 0) / stats.total * 100) | round(1) }}%
                    {% else %}0%{% endif %}
                </div>
                <div style="font-size: 0.75rem; color: #6b7280; display: flex; align-items: center; gap: 0.25rem;">
                    <i class="fas fa-percentage"></i>
                    <span>Approval ratio</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Need Funding Section -->
    <section class="hero-section">
        <div style="position: relative; z-index: 2;">
            <h3 style="font-size: 1.5rem; font-weight: 700; margin: 0 0 0.5rem 0;">Need Funding?</h3>
            <p style="opacity: 0.9; margin-bottom: 1.5rem; font-size: 0.95rem;">
                Start your application in minutes
            </p>
            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                <a href="{{ url_for('finance.loans') }}" class="action-button">
                    <i class="fas fa-rocket"></i> Apply Now
                </a>
                <a href="{{ url_for('finance.eligibility') }}" class="action-button action-button-secondary">
                    <i class="fas fa-chart-line"></i> Eligibility
                </a>
            </div>
        </div>
    </section>

    <!-- Recent Applications -->
    <section class="section-card">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <h3 style="font-size: 1.25rem; font-weight: 700; color: var(--navy); margin: 0;">Recent Applications</h3>
            <a href="{{ url_for('finance.my_loans') }}" style="font-size: 0.875rem; color: var(--lime); text-decoration: none; font-weight: 600;">
                View All <i class="fas fa-arrow-right"></i>
            </a>
        </div>
        
        {% if recent_loans %}
            {% for loan in recent_loans %}
            <div class="loan-card">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                    <div style="flex: 1;">
                        <div style="font-weight: 600; color: var(--navy); font-size: 0.9rem; margin-bottom: 0.25rem;" class="truncate">
                            {{ loan.application_number }}
                        </div>
                        <div style="font-size: 0.75rem; color: #6b7280;">
                            {{ loan.applied_date }}
                        </div>
                    </div>
                    <div>
                        <span style="padding: 0.25rem 0.75rem; background: var(--off-white); border-radius: 20px; font-size: 0.75rem; font-weight: 600; color: var(--navy);">
                            {{ loan.loan_type | title }}
                        </span>
                    </div>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        {% if loan.status == 'pending' %}
                            <span class="status-badge status-pending">
                                <i class="fas fa-clock"></i> Reviewing
                            </span>
                        {% elif loan.status == 'approved' %}
                            <span class="status-badge status-approved">
                                <i class="fas fa-check-circle"></i> Approved
                            </span>
                        {% elif loan.status == 'rejected' %}
                            <span class="status-badge status-rejected">
                                <i class="fas fa-times-circle"></i> Rejected
                            </span>
                        {% else %}
                            <span class="status-badge">{{ loan.status | upper }}</span>
                        {% endif %}
                    </div>
                    <div style="font-size: 0.75rem; color: #6b7280;">
                        {{ loan.applied_date.split(' ')[0] if loan.applied_date else '' }}
                    </div>
                </div>
                <div style="margin-top: 1rem; text-align: center;">
                    {% if loan.status == 'pending' %}
                        <a href="{{ url_for('finance.edit_loan', loan_id=loan.id) }}" style="display: inline-block; padding: 0.5rem 1rem; background: var(--lime); color: var(--navy); border-radius: var(--radius-sm); text-decoration: none; font-weight: 600; font-size: 0.875rem;">
                            <i class="fas fa-edit"></i> Edit Application
                        </a>
                    {% else %}
                        <span style="display: inline-block; padding: 0.5rem 1rem; background: var(--off-white); color: #6b7280; border-radius: var(--radius-sm); font-weight: 600; font-size: 0.875rem;">
                            <i class="fas fa-eye"></i> View
                        </span>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="empty-state">
                <div class="empty-state-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <h4 style="font-size: 1.125rem; font-weight: 600; color: var(--navy); margin-bottom: 0.5rem;">
                    No applications yet
                </h4>
                <p style="color: #6b7280; margin-bottom: 1.5rem;">
                    Start your first loan application
                </p>
                <a href="{{ url_for('finance.loans') }}" class="action-button">
                    <i class="fas fa-plus-circle"></i> Create Application
                </a>
            </div>
        {% endif %}
    </section>

    <!-- Quick Actions -->
    <section class="section-card">
        <h4 style="font-size: 1.125rem; font-weight: 700; color: var(--navy); margin: 0 0 1.25rem 0; display: flex; align-items: center; gap: 0.5rem;">
            <i class="fas fa-bolt" style="color: var(--lime);"></i> Quick Actions
        </h4>
        
        <a href="{{ url_for('market_place.home') }}" class="quick-action">
            <div class="quick-action-icon">
                <i class="fas fa-shopping-cart"></i>
            </div>
            <div style="flex: 1;">
                <div style="font-weight: 600; color: var(--navy);">Marketplace</div>
                <div style="font-size: 0.75rem; color: #6b7280;">Browse assets & tools</div>
            </div>
            <i class="fas fa-chevron-right" style="color: #9ca3af;"></i>
        </a>
        
        <a href="{{ url_for('blog.blog_home') }}" class="quick-action">
            <div class="quick-action-icon">
                <i class="fas fa-newspaper"></i>
            </div>
            <div style="flex: 1;">
                <div style="font-weight: 600; color: var(--navy);">Blog & Insights</div>
                <div style="font-size: 0.75rem; color: #6b7280;">Market updates & tips</div>
            </div>
            <i class="fas fa-chevron-right" style="color: #9ca3af;"></i>
        </a>
        
        <a href="{{ url_for('finance.faq') }}" class="quick-action">
            <div class="quick-action-icon">
                <i class="fas fa-question-circle"></i>
            </div>
            <div style="flex: 1;">
                <div style="font-weight: 600; color: var(--navy);">Help Center</div>
                <div style="font-size: 0.75rem; color: #6b7280;">FAQs & support</div>
            </div>
            <i class="fas fa-chevron-right" style="color: #9ca3af;"></i>
        </a>
    </section>

    <!-- Quick Tips -->
    <section class="section-card">
        <h4 style="font-size: 1.125rem; font-weight: 700; color: var(--navy); margin: 0 0 1.25rem 0; display: flex; align-items: center; gap: 0.5rem;">
            <i class="fas fa-lightbulb" style="color: #ffc107;"></i> Quick Tips
        </h4>
        
        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
            <div style="min-width: 24px; height: 24px; background: var(--lime); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--navy); font-size: 0.75rem; font-weight: 600;">
                1
            </div>
            <div>
                <div style="font-weight: 600; color: var(--navy); font-size: 0.875rem;">Complete your profile</div>
                <div style="font-size: 0.75rem; color: #6b7280;">Update KYC details for faster approvals</div>
            </div>
        </div>
        
        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
            <div style="min-width: 24px; height: 24px; background: var(--lime); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--navy); font-size: 0.75rem; font-weight: 600;">
                2
            </div>
            <div>
                <div style="font-weight: 600; color: var(--navy); font-size: 0.875rem;">Clear documentation</div>
                <div style="font-size: 0.75rem; color: #6b7280;">Upload clear photos of collateral items</div>
            </div>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <div style="min-width: 24px; height: 24px; background: var(--lime); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--navy); font-size: 0.75rem; font-weight: 600;">
                3
            </div>
            <div>
                <div style="font-weight: 600; color: var(--navy); font-size: 0.875rem;">Check eligibility first</div>
                <div style="font-size: 0.75rem; color: #6b7280;">Use our tool before applying</div>
            </div>
        </div>
    </section>

    <!-- Support Card -->
    <section class="section-card" style="background: linear-gradient(135deg, var(--navy) 0%, var(--navy-dark) 100%); color: var(--white);">
        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
            <div style="width: 48px; height: 48px; background: rgba(255, 255, 255, 0.1); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.25rem;">
                <i class="fas fa-headset"></i>
            </div>
            <div>
                <h4 style="margin: 0; font-size: 1.125rem; font-weight: 700;">Need Help?</h4>
                <p style="margin: 0.25rem 0 0 0; font-size: 0.875rem; opacity: 0.8;">Our team is here for you</p>
            </div>
        </div>
        <a href="mailto:support@tukakombe.com" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: var(--radius-sm); color: var(--white); text-decoration: none; font-weight: 600; font-size: 0.875rem; width: 100%; justify-content: center;">
            <i class="fas fa-envelope"></i> Email Support
        </a>
    </section>
</div>

<!-- Mobile Bottom Navigation -->
<nav class="mobile-nav">
    <a href="{{ url_for('finance.client_dashboard') }}" class="nav-item active">
        <i class="fas fa-home nav-icon"></i>
        <span>Home</span>
    </a>
    <a href="{{ url_for('finance.my_loans') }}" class="nav-item">
        <i class="fas fa-file-contract nav-icon"></i>
        <span>My Loans</span>
    </a>
    <a href="{{ url_for('finance.loans') }}" class="nav-item" style="background: var(--lime); color: var(--navy); border-radius: 20px; padding: 0.5rem 1rem; margin-top: -0.5rem;">
        <i class="fas fa-plus-circle nav-icon"></i>
        <span>Apply</span>
    </a>
    <a href="{{ url_for('market_place.home') }}" class="nav-item">
        <i class="fas fa-shopping-cart nav-icon"></i>
        <span>Market</span>
    </a>
    <a href="{{ url_for('blog.blog_home') }}" class="nav-item">
        <i class="fas fa-newspaper nav-icon"></i>
        <span>Blog</span>
    </a>
</nav>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<script>
    // iOS safe area support
    document.addEventListener('DOMContentLoaded', function() {
        // Update safe area on orientation change
        function updateSafeArea() {
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
            if (isIOS) {
                const header = document.querySelector('.mobile-header-fixed');
                if (header) {
                    header.style.paddingTop = 'calc(1rem + env(safe-area-inset-top, 0))';
                }
            }
        }
        
        // Initial update
        updateSafeArea();
        
        // Update on orientation change
        window.addEventListener('orientationchange', updateSafeArea);
        window.addEventListener('resize', updateSafeArea);
        
        // Touch feedback
        const clickableElements = document.querySelectorAll('a, button, .action-button, .quick-action');
        clickableElements.forEach(el => {
            el.addEventListener('touchstart', function() {
                this.style.opacity = '0.7';
            });
            el.addEventListener('touchend', function() {
                this.style.opacity = '1';
            });
        });
    });
    
    // Prevent body scroll when menu is open (if needed)
    function preventBodyScroll(prevent) {
        document.body.style.overflow = prevent ? 'hidden' : '';
        document.body.style.position = prevent ? 'fixed' : '';
        document.body.style.width = prevent ? '100%' : '';
    }
</script>
{% endblock %}