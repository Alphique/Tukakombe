{% extends "fin_base.html" %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tukakombe Loans Application Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --navy: #1a2a40;
            --navy-dark: #0d1621;
            --navy-light: #2c3e5a;
            --lime: #a2d242;
            --lime-light: #c5e86c;
            --lime-dark: #8eb936;
            --teal: #4ecdc4;
            --teal-light: #7be1da;
            --white: #ffffff;
            --off-white: #f8fafc;
            --cream: #fef6e4;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--off-white);
            color: var(--navy-dark);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        /* Header Styles */
        .header {
            background-color: var(--navy);
            color: var(--white);
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            background-color: var(--lime);
            color: var(--navy);
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .logo-text {
            font-size: 24px;
            font-weight: 700;
        }
        
        .logo-text span {
            color: var(--lime);
        }
        
        .nav-links {
            display: flex;
            gap: 25px;
        }
        
        .nav-links a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 5px 0;
            position: relative;
        }
        
        .nav-links a:hover {
            color: var(--lime);
        }
        
        .nav-links a.active {
            color: var(--lime);
        }
        
        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--lime);
        }
        
        .header-cta {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .header-contact {
            display: flex;
            flex-direction: column;
            font-size: 14px;
        }
        
        .header-contact span {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .header-contact i {
            color: var(--lime);
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            max-width: 1200px;
            width: 100%;
            margin: 30px auto;
            padding: 0 20px;
        }
        
        .page-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .page-header h1 {
            color: var(--navy);
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .page-header p {
            color: var(--navy-light);
            font-size: 18px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .form-container {
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(26, 42, 64, 0.1);
            overflow: hidden;
            border: 1px solid rgba(26, 42, 64, 0.1);
        }
        
        .form-header {
            background-color: var(--navy);
            color: var(--white);
            padding: 25px 40px;
        }
        
        .form-header h2 {
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .form-header h2 i {
            color: var(--lime);
            background-color: rgba(162, 210, 66, 0.15);
            padding: 12px;
            border-radius: 8px;
        }
        
        .form-body {
            padding: 30px 40px;
        }
        
        .form-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid rgba(26, 42, 64, 0.1);
        }
        
        .section-title {
            font-size: 20px;
            color: var(--navy);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--lime);
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .section-title i {
            color: var(--teal);
        }
        
        .form-row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -15px 20px;
        }
        
        .form-group {
            flex: 1;
            min-width: 300px;
            padding: 0 15px;
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--navy);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(26, 42, 64, 0.2);
            border-radius: 6px;
            font-size: 16px;
            transition: var(--transition);
            background-color: var(--off-white);
            color: var(--navy);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--lime);
            box-shadow: 0 0 0 3px rgba(162, 210, 66, 0.2);
        }
        
        .collateral-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .collateral-item {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid rgba(26, 42, 64, 0.15);
            border-radius: 6px;
            background-color: var(--off-white);
            transition: var(--transition);
        }
        
        .collateral-item:hover {
            border-color: var(--lime);
        }
        
        .collateral-item input[type="checkbox"] {
            margin-right: 10px;
            transform: scale(1.2);
            accent-color: var(--lime);
        }
        
        .collateral-item label {
            flex: 1;
            margin-bottom: 0;
            font-weight: normal;
            cursor: pointer;
        }
        
        .quantity-input {
            width: 70px;
            padding: 6px;
            border: 1px solid rgba(26, 42, 64, 0.2);
            border-radius: 4px;
            text-align: center;
            background-color: var(--white);
        }
        
        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 10px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background-color: var(--off-white);
            border-radius: 6px;
        }
        
        .radio-option input {
            margin-right: 10px;
            transform: scale(1.2);
            accent-color: var(--lime);
        }
        
        .radio-option label {
            margin-bottom: 0;
            cursor: pointer;
        }
        
        .terms-box {
            background-color: var(--cream);
            border-left: 4px solid var(--teal);
            padding: 20px;
            margin: 25px 0;
            font-size: 15px;
            line-height: 1.7;
            border-radius: 0 6px 6px 0;
        }
        
        .terms-box ol {
            padding-left: 20px;
            margin: 15px 0;
        }
        
        .terms-box li {
            margin-bottom: 8px;
        }
        
        .signature-area {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .signature-box {
            flex: 1;
            min-width: 300px;
            margin-bottom: 30px;
            padding-right: 20px;
        }
        
        .signature-line {
            margin-top: 40px;
            border-top: 1px solid var(--navy);
            padding-top: 10px;
            text-align: center;
        }
        
        .upload-section {
            margin-top: 20px;
        }
        
        .upload-box {
            border: 2px dashed var(--teal);
            border-radius: 8px;
            padding: 25px;
            text-align: center;
            margin-top: 15px;
            background-color: rgba(78, 205, 196, 0.05);
        }
        
        .upload-box i {
            font-size: 40px;
            color: var(--teal);
            margin-bottom: 15px;
        }
        
        .upload-btn {
            background-color: var(--lime);
            color: var(--navy);
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .upload-btn:hover {
            background-color: var(--lime-dark);
        }
        
        .file-list {
            margin-top: 20px;
        }
        
        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background-color: rgba(162, 210, 66, 0.1);
            border-radius: 6px;
            margin-bottom: 10px;
            border: 1px solid rgba(162, 210, 66, 0.3);
        }
        
        .submit-section {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(26, 42, 64, 0.1);
        }
        
        .submit-btn {
            background-color: var(--lime);
            color: var(--navy);
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
        }
        
        .submit-btn:hover {
            background-color: var(--lime-dark);
            transform: translateY(-3px);
        }
        
        .example-note {
            font-size: 14px;
            color: var(--navy-light);
            font-style: italic;
            margin: 10px 0;
        }
        
        .required {
            color: #e74c3c;
        }
        
        .lender-details {
            background-color: rgba(26, 42, 64, 0.05);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px solid rgba(26, 42, 64, 0.1);
        }
        
        /* Footer Styles */
        .footer {
            background-color: var(--navy);
            color: var(--white);
            padding: 40px 0 20px;
            margin-top: 50px;
        }
        
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            color: var(--lime);
            font-size: 20px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-section p {
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 10px;
        }
        
        .footer-section ul li a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-section ul li a:hover {
            color: var(--lime);
            padding-left: 5px;
        }
        
        .footer-section .contact-info {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .footer-section .contact-info i {
            color: var(--lime);
            margin-right: 10px;
            margin-top: 5px;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .header-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                gap: 15px;
            }
            
            .form-body {
                padding: 20px;
            }
            
            .form-header {
                padding: 20px;
            }
            
            .collateral-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .signature-box {
                min-width: 100%;
                padding-right: 0;
            }
        }
        
        canvas {
            border: 1px solid rgba(26, 42, 64, 0.3) !important;
            border-radius: 6px;
            background-color: var(--cream) !important;
            cursor: crosshair;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-hand-holding-usd"></i>
                </div>
                <div class="logo-text">Tuka<span>kombe</span> Loans</div>
            </div>
            
            <nav class="nav-links">
                <a href="index.html"><i class="fas fa-home"></i> Home</a>
                <a href="loans.html" class="active"><i class="fas fa-file-contract"></i> Apply for Loan</a>
                <a href="about.html"><i class="fas fa-info-circle"></i> About Us</a>
                <a href="contact.html"><i class="fas fa-phone-alt"></i> Contact</a>
            </nav>
            
            <div class="header-cta">
                <div class="header-contact">
                    <span><i class="fas fa-phone"></i> +260967651727</span>
                    <span><i class="fas fa-envelope"></i> info.tukaloans@gmail.com</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="page-header">
            <h1>Loan Application Form</h1>
            <p>Complete this form to apply for a loan using your items as collateral. Please fill in all required fields carefully.</p>
        </div>
        
        <div class="form-container">
            <div class="form-header">
                <h2><i class="fas fa-file-contract"></i> Tukakombe Loans Application</h2>
            </div>
            
            <div class="form-body">
                <form id="loanForm">
                    <!-- Loan Agreement Section -->
                    <div class="form-section">
                        <h3 class="section-title"><i class="fas fa-file-signature"></i> Loan Agreement Form</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanDate">Date <span class="required">*</span></label>
                                <input type="date" id="loanDate" class="form-control" required>
                            </div>
                            <div class="form-group">
                                <label for="borrowerName">Borrower's Full Name <span class="required">*</span></label>
                                <input type="text" id="borrowerName" class="form-control" placeholder="Enter your full name" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanAmount">Loan Amount (ZMW) <span class="required">*</span></label>
                                <input type="number" id="loanAmount" class="form-control" placeholder="Enter amount in Zambian Kwacha" min="0" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label for="loanAmountWords">Loan Amount in Words <span class="required">*</span></label>
                                <input type="text" id="loanAmountWords" class="form-control" placeholder="Amount in words" required>
                            </div>
                        </div>
                        <p class="example-note">Example: Smart TVs (X1)</p>
                    </div>
                    
                    <!-- Collateral Section -->
                    <div class="form-section">
                        <h3 class="section-title"><i class="fas fa-gem"></i> Collateral Details</h3>
                        <p>Please tick type of collateral you are submitting. Add quantity against item. Fill in others if your item is not listed below.</p>
                        
                        <div class="collateral-grid">
                            <!-- First column -->
                            <div class="collateral-item">
                                <input type="checkbox" id="generators" name="collateral" value="Generators">
                                <label for="generators">Generators</label>
                                <input type="number" class="quantity-input" id="generators-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="inverters" name="collateral" value="Inverters">
                                <label for="inverters">Inverters</label>
                                <input type="number" class="quantity-input" id="inverters-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="motorcycles" name="collateral" value="Motorcycles">
                                <label for="motorcycles">Motorcycles</label>
                                <input type="number" class="quantity-input" id="motorcycles-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="jewelry" name="collateral" value="High Grade Jewelry">
                                <label for="jewelry">High Grade Jewelry</label>
                                <input type="number" class="quantity-input" id="jewelry-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="laptops" name="collateral" value="Laptop">
                                <label for="laptops">Laptop</label>
                                <input type="number" class="quantity-input" id="laptops-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            
                            <!-- Second column -->
                            <div class="collateral-item">
                                <input type="checkbox" id="smartphones" name="collateral" value="Smartphone">
                                <label for="smartphones">Smartphone</label>
                                <input type="number" class="quantity-input" id="smartphones-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="tablets" name="collateral" value="Tablet">
                                <label for="tablets">Tablet</label>
                                <input type="number" class="quantity-input" id="tablets-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="smartwatches" name="collateral" value="Smartwatch">
                                <label for="smartwatches">Smartwatch</label>
                                <input type="number" class="quantity-input" id="smartwatches-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="gamingConsoles" name="collateral" value="Gaming console">
                                <label for="gamingConsoles">Gaming Console</label>
                                <input type="number" class="quantity-input" id="gamingConsoles-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="cameraLenses" name="collateral" value="Camera lenses">
                                <label for="cameraLenses">Camera Lenses</label>
                                <input type="number" class="quantity-input" id="cameraLenses-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            
                            <!-- Third column -->
                            <div class="collateral-item">
                                <input type="checkbox" id="lightingKits" name="collateral" value="Studio lighting kits">
                                <label for="lightingKits">Studio Lighting Kits</label>
                                <input type="number" class="quantity-input" id="lightingKits-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="djEquipment" name="collateral" value="DJ equipment">
                                <label for="djEquipment">DJ Equipment</label>
                                <input type="number" class="quantity-input" id="djEquipment-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="microphones" name="collateral" value="Studio Microphones">
                                <label for="microphones">Studio Microphones</label>
                                <input type="number" class="quantity-input" id="microphones-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="smartTVs" name="collateral" value="Smart TVs">
                                <label for="smartTVs">Smart TVs</label>
                                <input type="number" class="quantity-input" id="smartTVs-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="desktopPC" name="collateral" value="Desktop PC">
                                <label for="desktopPC">Desktop PC</label>
                                <input type="number" class="quantity-input" id="desktopPC-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            
                            <!-- Fourth column -->
                            <div class="collateral-item">
                                <input type="checkbox" id="monitors" name="collateral" value="Monitor">
                                <label for="monitors">Monitor</label>
                                <input type="number" class="quantity-input" id="monitors-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="printers" name="collateral" value="Printer">
                                <label for="printers">Printer</label>
                                <input type="number" class="quantity-input" id="printers-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="projectors" name="collateral" value="Projectors">
                                <label for="projectors">Projectors</label>
                                <input type="number" class="quantity-input" id="projectors-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="digitalCameras" name="collateral" value="Digital cameras">
                                <label for="digitalCameras">Digital Cameras</label>
                                <input type="number" class="quantity-input" id="digitalCameras-qty" min="0" placeholder="Qty" disabled>
                            </div>
                            <div class="collateral-item">
                                <input type="checkbox" id="others" name="collateral" value="Others">
                                <label for="others">Others (Specify)</label>
                                <input type="number" class="quantity-input" id="others-qty" min="0" placeholder="Qty" disabled>
                            </div>
                        </div>
                        
                        <div class="form-group" style="margin-top: 20px;">
                            <label for="otherCollateral">If others, please specify:</label>
                            <input type="text" id="otherCollateral" class="form-control" placeholder="Describe your collateral item">
                        </div>
                    </div>
                    
                    <!-- Loan Details Section -->
                    <div class="form-section">
                        <h3 class="section-title"><i class="fas fa-money-check-alt"></i> Loan Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Interest Rate <span class="required">*</span></label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" id="interest40" name="interestRate" value="40" required>
                                        <label for="interest40">40% interest</label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" id="interest35" name="interestRate" value="35">
                                        <label for="interest35">35% interest</label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" id="interest20" name="interestRate" value="20">
                                        <label for="interest20">20% interest</label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" id="interest15" name="interestRate" value="15">
                                        <label for="interest15">15% interest</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Repayment Schedule <span class="required">*</span></label>
                                <div class="radio-group">
                                    <div class="radio-option">
                                        <input type="radio" id="repaymentMonthly" name="repaymentSchedule" value="Monthly" required>
                                        <label for="repaymentMonthly">Monthly</label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" id="repaymentWeekly" name="repaymentSchedule" value="Weekly">
                                        <label for="repaymentWeekly">Weekly</label>
                                    </div>
                                    <div class="radio-option">
                                        <input type="radio" id="repaymentLumpsum" name="repaymentSchedule" value="Lumpsum">
                                        <label for="repaymentLumpsum">Lumpsum</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="loanTerm">Loan Term <span class="required">*</span></label>
                                <div style="display: flex;">
                                    <input type="number" id="loanTerm" class="form-control" style="flex: 1; border-right: none; border-radius: 6px 0 0 6px;" min="1" required>
                                    <select id="termUnit" class="form-control" style="width: 120px; border-radius: 0 6px 6px 0;">
                                        <option value="days">Days</option>
                                        <option value="months">Months</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="repaymentDate">Repayment Date <span class="required">*</span></label>
                                <input type="date" id="repaymentDate" class="form-control" required>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Terms and Conditions -->
                    <div class="form-section">
                        <h3 class="section-title"><i class="fas fa-balance-scale"></i> Loan Terms & Conditions</h3>
                        <div class="terms-box">
                            <p><strong>This Loan Agreement is made and entered into on the date specified above, by and between Tukakombe Loans hereby known as the lender and the borrower for a sum as specified above with the following details and terms outlined below.</strong></p>
                            
                            <p>The Borrower agrees to repay the loan as per the agreed schedule. This Agreement is legally binding, and any disputes shall be resolved in accordance with the laws of Zambia.</p>
                            
                            <ol>
                                <li><strong>Payment Period:</strong> The borrower must adhere to the selected repayment schedule.</li>
                                <li><strong>Defaulting Loan Terms:</strong> If the Borrower defaults on payment beyond 7 days, the Lender has the right to sell the collateral seized/declared by borrower to recover the outstanding loan amount, charge interest for the delay period (the 7 days herein mentioned) and get a commission fee of 15% as compensation for any miscellaneous fees incurred during the advertisement and sell of item(s).</li>
                                <li><strong>Additional Sell Amounts:</strong> Any additional amount recovered from the sale of the collateral beyond the outstanding loan will be refunded to the Borrower.</li>
                                <li><strong>Outstanding Loan Dues:</strong> The Borrower remains liable for any unpaid balance if the collateral does not cover the full loan amount and interest up to the point of sell.</li>
                                <li><strong>Disputes and Resolutions:</strong> Any disputes arising from this agreement shall be resolved in accordance with Zambian law.</li>
                            </ol>
                            
                            <p><strong>6. Acknowledgment and Agreement:</strong> By signing below, the Borrower confirms that they have carefully read and fully understood all the terms and conditions outlined in this Loan Agreement. The Borrower acknowledges that they have had the opportunity to ask questions and seek clarification regarding the provisions of this Agreement, and that all such questions have been answered to their satisfaction.</p>
                            
                            <p>Furthermore, the Borrower agrees to be legally bound by the terms of this Agreement, including but not limited to the repayment schedule, interest rates, use of collateral, penalties for default, and any other obligations stipulated herein. The Borrower affirms that they are entering into this Agreement voluntarily and without any form of coercion or undue influence.</p>
                            
                            <p>By signing below, the Borrower accepts full responsibility for the loan and agrees to comply with all its conditions as set forth in this Agreement.</p>
                        </div>
                    </div>
                    
                    <!-- Contact Information -->
                    <div class="form-section">
                        <h3 class="section-title"><i class="fas fa-address-card"></i> Contact Information</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <h4>Borrower's Details</h4>
                                <label for="borrowerPhone">Phone <span class="required">*</span></label>
                                <input type="tel" id="borrowerPhone" class="form-control" placeholder="+260 XXX XXX XXX" required>
                                
                                <label for="borrowerEmail" style="margin-top: 15px;">Email</label>
                                <input type="email" id="borrowerEmail" class="form-control" placeholder="your.email@example.com">
                                
                                <label for="borrowerAddress" style="margin-top: 15px;">Address <span class="required">*</span></label>
                                <textarea id="borrowerAddress" class="form-control" rows="3" placeholder="Your full address" required></textarea>
                            </div>
                            
                            <div class="form-group">
                                <h4>Lender's Details</h4>
                                <div class="lender-details">
                                    <p><strong>Tukakombe Loans</strong></p>
                                    <p>Matero North, Lusaka Forest, Near Novare Mall</p>
                                    <p>Great North Road plot 36697</p>
                                    <p>Phone: +260967651727</p>
                                    <p>Email: info.tukaloans@gmail.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Document Upload -->
                    <div class="form-section">
                        <h3 class="section-title"><i class="fas fa-paperclip"></i> Required Documents</h3>
                        <p>Please upload the following documents:</p>
                        
                        <div class="upload-section">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>National Registration Card (NRC) <span class="required">*</span></label>
                                    <div class="upload-box" id="nrcUpload">
                                        <i class="fas fa-id-card"></i>
                                        <p>Drag & drop your NRC scan or click to browse</p>
                                        <button type="button" class="upload-btn" onclick="document.getElementById('nrcFile').click()">Browse Files</button>
                                        <input type="file" id="nrcFile" accept=".pdf,.jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload('nrcFile', 'nrcUpload')">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Utility Bill (with family name) <span class="required">*</span></label>
                                    <div class="upload-box" id="utilityUpload">
                                        <i class="fas fa-file-invoice"></i>
                                        <p>Drag & drop your utility bill or click to browse</p>
                                        <button type="button" class="upload-btn" onclick="document.getElementById('utilityFile').click()">Browse Files</button>
                                        <input type="file" id="utilityFile" accept=".pdf,.jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload('utilityFile', 'utilityUpload')">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>Tenant Agreement (for renters) OR Additional ID</label>
                                <div class="upload-box" id="additionalUpload">
                                    <i class="fas fa-file-signature"></i>
                                    <p>Drag & drop your tenant agreement or additional ID</p>
                                    <button type="button" class="upload-btn" onclick="document.getElementById('additionalFile').click()">Browse Files</button>
                                    <input type="file" id="additionalFile" accept=".pdf,.jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload('additionalFile', 'additionalUpload')">
                                </div>
                            </div>
                            
                            <div id="fileList" class="file-list"></div>
                        </div>
                    </div>
                    
                    <!-- Signatures -->
                    <div class="form-section">
                        <h3 class="section-title"><i class="fas fa-signature"></i> Signatures</h3>
                        <div class="signature-area">
                            <div class="signature-box">
                                <label for="borrowerSignature">Borrower's Signature <span class="required">*</span></label>
                                <canvas id="borrowerSignature" width="400" height="150"></canvas>
                                <div style="margin-top: 10px;">
                                    <button type="button" class="upload-btn" onclick="clearSignature('borrowerSignature')">Clear Signature</button>
                                </div>
                                <div class="signature-line">
                                    <p>Name of Client/Borrower: <span id="borrowerNameDisplay">____________________</span></p>
                                    <p>Date: <span id="borrowerDateDisplay">____________________</span></p>
                                </div>
                            </div>
                            
                            <div class="signature-box">
                                <label for="witnessSignature">Witness Signature</label>
                                <canvas id="witnessSignature" width="400" height="150"></canvas>
                                <div style="margin-top: 10px;">
                                    <button type="button" class="upload-btn" onclick="clearSignature('witnessSignature')">Clear Signature</button>
                                </div>
                                <div class="signature-line">
                                    <p>Name of Witness: <input type="text" class="form-control" placeholder="Witness name" style="width: 100%; margin-top: 5px;"></p>
                                    <p>Date: <input type="date" class="form-control" style="width: 100%; margin-top: 5px;"></p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="signature-box" style="margin-top: 20px;">
                            <div class="signature-line">
                                <p>Name of Tukakombe Agent: <input type="text" class="form-control" placeholder="Agent name" style="width: 100%; margin-top: 5px;"></p>
                                <p>Signature: <canvas id="agentSignature" width="400" height="100" style="margin-top: 10px;"></canvas></p>
                                <div style="margin-top: 10px;">
                                    <button type="button" class="upload-btn" onclick="clearSignature('agentSignature')">Clear Signature</button>
                                </div>
                                <p>Date: <input type="date" class="form-control" style="width: 100%; margin-top: 5px;"></p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Submit Section -->
                    <div class="submit-section">
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane"></i> Submit Loan Application
                        </button>
                        <p style="margin-top: 15px; color: var(--navy-light); font-size: 14px;">
                            By submitting this form, you agree to all terms and conditions outlined above.
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Tukakombe Loans</h3>
                    <p>Providing fast and reliable loan services with transparent terms and competitive interest rates.</p>
                    <div class="contact-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <p>Matero North, Lusaka Forest, Near Novare Mall<br>Great North Road plot 36697</p>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html"><i class="fas fa-chevron-right"></i> Home</a></li>
                        <li><a href="loans.html"><i class="fas fa-chevron-right"></i> Apply for Loan</a></li>
                        <li><a href="about.html"><i class="fas fa-chevron-right"></i> About Us</a></li>
                        <li><a href="contact.html"><i class="fas fa-chevron-right"></i> Contact Us</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Contact Info</h3>
                    <div class="contact-info">
                        <i class="fas fa-phone"></i>
                        <p>+260967651727</p>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-envelope"></i>
                        <p>info.tukaloans@gmail.com</p>
                    </div>
                    <div class="contact-info">
                        <i class="fas fa-clock"></i>
                        <p>Mon-Fri: 8:00 AM - 6:00 PM<br>Sat: 9:00 AM - 1:00 PM</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2023 Tukakombe Loans. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Set today's date as default
        document.getElementById('loanDate').valueAsDate = new Date();
        
        // Calculate a repayment date 30 days from now as default
        const today = new Date();
        const repaymentDate = new Date();
        repaymentDate.setDate(today.getDate() + 30);
        document.getElementById('repaymentDate').valueAsDate = repaymentDate;
        
        // Update borrower name display when typed
        document.getElementById('borrowerName').addEventListener('input', function() {
            document.getElementById('borrowerNameDisplay').textContent = this.value || '____________________';
        });
        
        // Update borrower date display
        document.getElementById('loanDate').addEventListener('change', function() {
            document.getElementById('borrowerDateDisplay').textContent = this.value || '____________________';
        });
        
        // Enable quantity input when collateral is checked
        document.querySelectorAll('input[name="collateral"]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const qtyInput = document.getElementById(this.id + '-qty');
                qtyInput.disabled = !this.checked;
                if (!this.checked) {
                    qtyInput.value = '';
                }
            });
        });
        
        // Handle file upload
        function handleFileUpload(fileInputId, uploadBoxId) {
            const fileInput = document.getElementById(fileInputId);
            const uploadBox = document.getElementById(uploadBoxId);
            const fileList = document.getElementById('fileList');
            
            if (fileInput.files.length > 0) {
                const file = fileInput.files[0];
                uploadBox.innerHTML = `<i class="fas fa-check-circle" style="color: var(--lime);"></i>
                                      <p><strong>${file.name}</strong> uploaded successfully</p>
                                      <p>Size: ${(file.size / 1024).toFixed(2)} KB</p>`;
                uploadBox.style.borderColor = 'var(--lime)';
                uploadBox.style.backgroundColor = 'rgba(162, 210, 66, 0.1)';
                
                // Add to file list
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div>
                        <i class="fas fa-file"></i> ${file.name}
                    </div>
                    <div>
                        <button type="button" class="upload-btn" style="padding: 5px 10px; font-size: 14px;" onclick="removeFile('${fileInputId}', '${uploadBoxId}')">Remove</button>
                    </div>
                `;
                fileList.appendChild(fileItem);
            }
        }
        
        function removeFile(fileInputId, uploadBoxId) {
            const fileInput = document.getElementById(fileInputId);
            const uploadBox = document.getElementById(uploadBoxId);
            
            fileInput.value = '';
            uploadBox.innerHTML = `<i class="fas fa-id-card"></i>
                                  <p>Drag & drop your file or click to browse</p>
                                  <button type="button" class="upload-btn" onclick="document.getElementById('${fileInputId}').click()">Browse Files</button>`;
            uploadBox.style.borderColor = 'var(--teal)';
            uploadBox.style.backgroundColor = 'rgba(78, 205, 196, 0.05)';
        }
        
        // Signature functionality
        const signatures = {};
        
        ['borrowerSignature', 'witnessSignature', 'agentSignature'].forEach(canvasId => {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            let drawing = false;
            
            signatures[canvasId] = {
                canvas: canvas,
                ctx: ctx,
                drawing: false
            };
            
            // Set line properties
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.strokeStyle = 'var(--navy)';
            
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            // Touch support for mobile devices
            canvas.addEventListener('touchstart', startDrawingTouch);
            canvas.addEventListener('touchmove', drawTouch);
            canvas.addEventListener('touchend', stopDrawing);
        });
        
        function startDrawing(e) {
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            const canvasId = this.id;
            signatures[canvasId].drawing = true;
            signatures[canvasId].ctx.beginPath();
            signatures[canvasId].ctx.moveTo(x, y);
        }
        
        function startDrawingTouch(e) {
            e.preventDefault();
            const rect = this.getBoundingClientRect();
            const touch = e.touches[0];
            const x = touch.clientX - rect.left;
            const y = touch.clientY - rect.top;
            
            const canvasId = this.id;
            signatures[canvasId].drawing = true;
            signatures[canvasId].ctx.beginPath();
            signatures[canvasId].ctx.moveTo(x, y);
        }
        
        function draw(e) {
            if (!signatures[this.id].drawing) return;
            
            const rect = this.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            signatures[this.id].ctx.lineTo(x, y);
            signatures[this.id].ctx.stroke();
        }
        
        function drawTouch(e) {
            e.preventDefault();
            if (!signatures[this.id].drawing) return;
            
            const rect = this.getBoundingClientRect();
            const touch = e.touches[0];
            const x = touch.clientX - rect.left;
            const y = touch.clientY - rect.top;
            
            signatures[this.id].ctx.lineTo(x, y);
            signatures[this.id].ctx.stroke();
        }
        
        function stopDrawing() {
            const canvasId = this.id || this.canvasId;
            if (signatures[canvasId]) {
                signatures[canvasId].drawing = false;
            }
        }
        
        function clearSignature(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
        
        // Form submission
        document.getElementById('loanForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate required fields
            const requiredFields = document.querySelectorAll('[required]');
            let valid = true;
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.style.borderColor = '#e74c3c';
                    valid = false;
                } else {
                    field.style.borderColor = '';
                }
            });
            
            // Check if at least one collateral is selected
            const collateralSelected = document.querySelectorAll('input[name="collateral"]:checked').length > 0;
            if (!collateralSelected) {
                alert('Please select at least one collateral item.');
                valid = false;
            }
            
            // Check if NRC is uploaded
            const nrcFile = document.getElementById('nrcFile').files.length;
            if (!nrcFile) {
                alert('Please upload your National Registration Card (NRC).');
                valid = false;
            }
            
            // Check if utility bill is uploaded
            const utilityFile = document.getElementById('utilityFile').files.length;
            if (!utilityFile) {
                alert('Please upload a utility bill with your family name.');
                valid = false;
            }
            
            if (valid) {
                // In a real application, this would submit to a server
                alert('Loan application submitted successfully! A Tukakombe agent will contact you shortly.');
                // Here you would typically send the form data to your server
                // For now, we'll just log the form data
                const formData = new FormData(this);
                console.log('Form data:', Object.fromEntries(formData));
            } else {
                alert('Please fill in all required fields marked with *');
            }
        });
        
        // Auto-calculate loan amount in words (simplified version)
        document.getElementById('loanAmount').addEventListener('input', function() {
            const amount = parseInt(this.value) || 0;
            if (amount > 0) {
                // This is a simplified version - in a real app you would use a proper number-to-words converter
                document.getElementById('loanAmountWords').value = `Zambian Kwacha ${amount.toLocaleString()} only`;
            } else {
                document.getElementById('loanAmountWords').value = '';
            }
        });
    </script>
</body>
</html>
{% endblock %}